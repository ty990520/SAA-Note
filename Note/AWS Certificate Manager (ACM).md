## AWS Certificate Manager (ACM)


**AWS Certificate Manager (ACM)** 는 사용자가 SSL/TLS 인증서를 쉽게 생성하고 관리할 수 있도록 도와주는 서비스입니다. 
이런 인증서는 웹사이트나 애플리케이션에 보안된 연결을 제공합니다.
- 사용자가 개인키를 관리하지 않아도 되니까 보안상 이점
- 마치 EC2를 액세스 키로 접근하지 않고 Session Manager를 사용해서 접근하는 것처럼 사용 가능
- 인증서의 관리와 갱신도 자동으로 처리

<br>

**인증서를 요청하는 과정**

  1. **도메인 선택**: 인증서에 포함하고자 하는 도메인 이름을 지정합니다. 예를 들어, 특정 서브 도메인(`corp.example.com`)만을 대상으로 할 수도 있고, 모든 서브 도메인(`*.example.com`)을 대상으로 할 수도 있습니다.
  
  2. **검증 방법 선택**: ACM에서는 도메인 소유권을 검증하기 위해 두 가지 방법을 제공합니다.
     - **DNS 검증**: ACM은 사용자에게 특정 DNS 레코드 (CNAME)를 도메인에 추가하도록 지시합니다. Route 53과 같은 DNS 서비스를 사용한다면, 이 과정은 자동화될 수 있습니다.
     - **이메일 검증**: ACM은 도메인의 등록 정보에 명시된 연락처로 이메일을 보냅니다. 해당 이메일을 통해 도메인 소유권을 확인할 수 있습니다.
  
  3. **인증서 발행**: 유효성 검증이 성공적으로 완료되면 ACM은 인증서를 발행합니다.
  
  4. **자동 갱신**: ACM에서 생성된 인증서는 자동으로 갱신됩니다. 인증서의 만료 60일 전에 ACM은 이를 자동으로 갱신하므로, 사용자는 수동으로 인증서를 갱신할 필요가 없습니다.


<br>


**ACM 외부 인증서 가져오기** 
   - AWS Certificate Manager(ACM)에는 외부에서 생성된 인증서를 가져오는 기능이 있습니다.
   - 이 외부 인증서는 ACM에서 자동 갱신되지 않기 때문에, 만료되기 전에 새 인증서를 직접 업데이트해야 합니다.

<br>

**ACM 인증서 만료 자동 경고를 받는 방법 2가지**

1. **EventBridge를 통한 ACM 만료 이벤트**: ACM이 인증서의 만료가 다가오면, 만료되기 45일 전부터 매일 EventBridge에 만료 이벤트를 전송합니다. 이 이벤트를 통해 다른 AWS 서비스들 (예: Lambda, SNS, SQS)을 트리거하여 사용자에게 알림을 보낼 수 있습니다.

2. **AWS Config의 acm-certificate-expiration-check 규칙**: AWS Config에서 제공하는 `acm-certificate-expiration-check` 규칙을 이용하여 인증서의 만료 상태를 자동으로 확인할 수 있습니다. 이 규칙이 위반될 경우 (즉, 인증서가 곧 만료될 경우) 이 정보는 EventBridge로 전송되며, 이를 통해 다른 AWS 서비스들을 트리거할 수 있습니다.

