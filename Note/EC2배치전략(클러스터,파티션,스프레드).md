## Amazon EC2에서 인스턴스를 배치하는 방법 

1. **클러스터 배치 그룹**:
   - 클러스터 배치 그룹은 동일한 물리적 하드웨어(호스트) 상에서 여러 인스턴스를 실행하도록 설계되었습니다.
   - 이 전략은 매우 높은 네트워크 성능 및 대역폭이 필요한 애플리케이션에 최적화되어 있습니다. 예를 들면, 고성능 컴퓨팅 (HPC) 작업, 빅 데이터 분석, 그래픽 처리 작업 등이 이에 해당합니다.
   - 동일한 물리적 위치에서의 인스턴스 실행을 통해 장애의 영향을 최소화하고, 인스턴스 간의 통신 지연 시간을 줄일 수 있습니다.
   - 여러 개의 인스턴스를 하나의 인스턴스처럼 사용 -> 고성능

2. **파티션 배치 그룹**:
   - 파티션 배치 그룹은 인스턴스를 여러 물리적 서버에 걸쳐 분산시키도록 설계되었습니다.
   - 각 파티션은 별도의 물리적 하드웨어 집합에 호스트되어, 하나의 파티션 내에서 발생하는 장애가 다른 파티션에 영향을 미치지 않게 합니다.
   - 주로 분산 시스템 및 장애로부터 격리를 필요로하는 데이터베이스, 예를 들면, Apache Hadoop, Apache Cassandra 등에 사용됩니다.

3. **스프레드 배치 그룹**:
   - 스프레드 배치 그룹은 각 인스턴스를 별도의 물리적 하드웨어에 배치함으로써 고도의 격리와 내결함성을 제공하도록 설계되었습니다.
   - 이 전략은 미션 크리티컬 애플리케이션의 고가용성을 보장하기 위해 사용되며, 각 인스턴스는 서로 다른 하드웨어에 위치하게 됩니다.
   - 예를 들어, 중요한 데이터베이스를 운영하거나, 실제 환경의 작업을 지원하기 위해 스프레드 배치 그룹을 사용할 수 있습니다.
   - 스프레드 배치 그룹은 동일한 리전(Region)에 있는 다수의 가용 영역에 분산될 수 있습니다.
   - **각 그룹 및 가용 영역(AZ)당 `최대 7개`의 실행 인스턴스를 가질 수 있습니다**.
      - 예를들어, 하나의 스프레드 배치 그룹에 15개의 EC2 인스턴스를 배포하려면 회사는 3개의 AZ를 사용해야 합니다.

---

## 스프레드 배치 그룹 vs 파티션 배치 그룹

두 전략 모두 인스턴스를 격리된 하드웨어에 배치하는 것을 목표로 하지만, 스프레드는 개별 인스턴스의 격리에 중점을 둔 반면, 파티션은 애플리케이션의 서로 다른 부분들의 격리에 중점을 둡니다.

- **스프레드 배치 그룹** : 이것은 각각의 인스턴스를 서로 다른 방에 둔다고 생각하면 됩니다. 만약 한 방에서 문제가 발생하더라도 다른 방의 인스턴스에는 영향을 주지 않습니다. **각 방은 독립적이고 서로에게 영향을 주지 않습니다.**

- **파티션 배치 그룹** : 여러 인스턴스를 같은 아파트 빌딩의 다른 층에 배치한다고 생각하면 됩니다. 층별로는 여러 인스턴스가 함께 있지만, 다른 층의 인스턴스와는 격리되어 있습니다. 만약 한 층에서 문제가 발생하면 **그 층에 있는 모든 인스턴스는 영향을 받지만**, 다른 층에는 영향을 주지 않습니다.

즉, 스프레드 배치는 "각 방에 하나의 인스턴스"를 배치하는 것이고, 파티션 배치는 "각 층에 여러 인스턴스"를 배치하는 것입니다. 스프레드는 각각의 인스턴스를 `최대한 독립적`으로 유지하려고 하고, 파티션은 특정 그룹 내의 인스턴스들을 같이 둔 채로 `그룹 간에 격리`를 시도합니다.


1. **규모와 목적**:
    - **스프레드 배치 그룹**: 일반적으로 상대적으로 작은 수의 인스턴스를 대상으로 합니다. 이 전략은 각 인스턴스를 각기 다른 하드웨어에 배치하여 개별 인스턴스의 장애 격리를 목표로 합니다. 
    - **파티션 배치 그룹**: 대규모 애플리케이션을 대상으로 하며, 각 파티션 내의 여러 인스턴스를 같은 하드웨어 세트에 배치합니다. 이 전략은 애플리케이션의 서로 다른 부분을 서로 다른 하드웨어 세트에 배치하여 장애 격리를 목표로 합니다.

2. **활용 사례**:
    - **스프레드 배치 그룹**: 각각의 인스턴스가 중요한 작업을 처리하는 경우, 예를 들면 각 인스턴스가 서로 다른 고객의 중요한 데이터를 저장하고 있을 때 이 전략을 사용합니다.
    - **파티션 배치 그룹**: 대규모 분산 시스템에서 각 파티션의 인스턴스들이 같은 작업을 수행하거나, 같은 데이터 세트의 복제본을 저장할 때 이 전략을 사용합니다.
  
-> 클러스터와 스프레드의 성격을 모두 섞은 것이 파티션!

